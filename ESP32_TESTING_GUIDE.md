# ุฏููู ูุญุต ESP32 - AI Teddy Bear

## ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุงุณุชุฎุฏุงู ุฃุฏูุงุช ูุญุต ESP32 ููุชุฃูุฏ ูู ุนูู ุฌููุน ุงูุทูุจุงุช ูุงูุฎุฏูุงุช ุจุดูู ุตุญูุญ.

## ุงูุฃุฏูุงุช ุงููุชุงุญุฉ

### 1. ุงููุญุต ุงูุดุงูู (`esp32_comprehensive_test.py`)
ูุญุต ุดุงูู ูุฌููุน ESP32 endpoints ูุน ุงุฎุชุจุงุฑุงุช ููุตูุฉ.

**ุงูููุฒุงุช:**
- โ ูุญุต ุตุญุฉ ุงูุณูุฑูุฑ
- ๐ง ูุญุต ุฅุนุฏุงุฏุงุช ESP32
- ๐พ ูุญุต ูุนูููุงุช ุงูููุฑูููุฑ
- ๐ ูุญุต ุฑุจุท ุงูุฃุฌูุฒุฉ
- ๐ ูุญุต ุงูููุงููุณ
- ๐ฌ ูุญุต WebSocket ููุฏุฑุฏุดุฉ
- ๐ฃ๏ธ ูุญุต ุตุญุฉ ุงูุฑุงูุชุฑุงุช

**ุงูุงุณุชุฎุฏุงู:**
```bash
python esp32_comprehensive_test.py
```

### 2. ูุญุต ุงูุฃุฏุงุก (`esp32_performance_test.py`)
ููุงุณ ุฃุฏุงุก ูุณุฑุนุฉ ุงุณุชุฌุงุจุฉ ESP32 endpoints.

**ุงูููุฒุงุช:**
- โก ููุงุณ ุฒูู ุงูุงุณุชุฌุงุจุฉ
- ๐ ุงุฎุชุจุงุฑ ุงูุชุญููู ุงููุชุฒุงูู
- ๐ ุฅุญุตุงุฆูุงุช ููุตูุฉ
- ๐ ุชูููู ุงูุฃุฏุงุก ุงูุนุงู

**ุงูุงุณุชุฎุฏุงู:**
```bash
python esp32_performance_test.py
```

### 3. ุงููุฑุงูุจุฉ ุงููุณุชูุฑุฉ (`esp32_monitor.py`)
ูุฑุงูุจุฉ ูุณุชูุฑุฉ ูุญุงูุฉ ESP32 endpoints ูุน ุชูุจููุงุช.

**ุงูููุฒุงุช:**
- ๐ ูุฑุงูุจุฉ ูุณุชูุฑุฉ
- ๐จ ุชูุจููุงุช ุชููุงุฆูุฉ
- ๐ ุฅุญุตุงุฆูุงุช ูู ุงูููุช ุงููุนูู
- ๐พ ุชูุงุฑูุฑ ููุตูุฉ
- โฐ ูุฑุงูุจุฉ ููุชุฑุฉ ูุญุฏุฏุฉ ุฃู ูุณุชูุฑุฉ

**ุงูุงุณุชุฎุฏุงู:**
```bash
# ูุฑุงูุจุฉ ูุณุชูุฑุฉ
python esp32_monitor.py

# ูุฑุงูุจุฉ ููุฏุฉ 10 ุฏูุงุฆู
python esp32_monitor.py --duration 10

# ุชุบููุฑ ูุชุฑุฉ ุงููุญุต ุฅูู 15 ุซุงููุฉ
python esp32_monitor.py --interval 15
```

### 4. ุงูุชุดุบูู ุงูุดุงูู (`run_esp32_tests.py`)
ุณูุฑูุจุช ููุญุฏ ูุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช.

**ุงูููุฒุงุช:**
- ๐ ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
- ๐ ุชูุฑูุฑ ุดุงูู
- ๐ฏ ุชุดุบูู ุงุฎุชุจุงุฑ ูุงุญุฏ
- โ๏ธ ุฎูุงุฑุงุช ูุชูุฏูุฉ

**ุงูุงุณุชุฎุฏุงู:**
```bash
# ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
python run_esp32_tests.py

# ุชุดุบูู ุงุฎุชุจุงุฑ ูุงุญุฏ ููุท
python run_esp32_tests.py --test comprehensive

# ุชุฎุทู ุงููุฑุงูุจุฉ
python run_esp32_tests.py --no-monitoring

# ุชุบููุฑ ุฑุงุจุท ุงูุณูุฑูุฑ
python run_esp32_tests.py --url http://localhost:8080
```

## ุฅุนุฏุงุฏ ุงูุจูุฆุฉ

### ุงููุชุทูุจุงุช
```bash
pip install requests websockets
```

### ุฅุนุฏุงุฏุงุช ุงูุณูุฑูุฑ
ุชุฃูุฏ ูู ุฃู ุงูุณูุฑูุฑ ูุนูู ุนูู:
- **ุงููุถูู:** `127.0.0.1` ุฃู `localhost`
- **ุงูุจูุฑุช:** `8000` (ุงูุชุฑุงุถู)
- **ุงูุจุฑูุชูููู:** HTTP

## ESP32 Endpoints ุงููุฏุนููุฉ

### 1. ุงูุตุญุฉ ุงูุนุงูุฉ
- **URL:** `/health`
- **ุงูุทุฑููุฉ:** GET
- **ุงููุตู:** ูุญุต ุตุญุฉ ุงูุณูุฑูุฑ ุงูุนุงูุฉ

### 2. ุฅุนุฏุงุฏุงุช ESP32
- **URL:** `/api/v1/esp32/config`
- **ุงูุทุฑููุฉ:** GET
- **ุงููุตู:** ุงูุญุตูู ุนูู ุฅุนุฏุงุฏุงุช ESP32
- **ุงููุตุงุฏูุฉ:** ุบูุฑ ูุทููุจุฉ

### 3. ูุนูููุงุช ุงูููุฑูููุฑ
- **URL:** `/api/v1/esp32/firmware`
- **ุงูุทุฑููุฉ:** GET
- **ุงููุตู:** ูุนูููุงุช ุงูููุฑูููุฑ ุงููุชุงุญ
- **ุงููุตุงุฏูุฉ:** ุบูุฑ ูุทููุจุฉ

### 4. ุฑุจุท ุงูุฌูุงุฒ
- **URL:** `/api/v1/pair/claim`
- **ุงูุทุฑููุฉ:** POST
- **ุงููุตู:** ุฑุจุท ุฌูุงุฒ ESP32 ุฌุฏูุฏ
- **ุงููุตุงุฏูุฉ:** HMAC ูุทููุจ

### 5. ููุงููุณ ESP32
- **URL:** `/api/v1/esp32/metrics`
- **ุงูุทุฑููุฉ:** GET
- **ุงููุตู:** ููุงููุณ ุฃุฏุงุก ESP32
- **ุงููุตุงุฏูุฉ:** ูุทููุจุฉ

### 6. WebSocket ููุฏุฑุฏุดุฉ
- **URL:** `/api/v1/esp32/chat`
- **ุงูุจุฑูุชูููู:** WebSocket
- **ุงููุตู:** ุฏุฑุฏุดุฉ ูุจุงุดุฑุฉ ูุน ESP32
- **ุงููุตุงุฏูุฉ:** Token ูุทููุจ

### 7. ุตุญุฉ ุงูุฑุงูุชุฑุงุช
- **URL:** `/routes-health`
- **ุงูุทุฑููุฉ:** GET
- **ุงููุตู:** ูุญุต ุตุญุฉ ุฌููุน ุงูุฑุงูุชุฑุงุช

## ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ูุญุต ุณุฑูุน
```bash
# ูุญุต ุดุงูู ุณุฑูุน
python esp32_comprehensive_test.py
```

### ูุญุต ุงูุฃุฏุงุก
```bash
# ูุญุต ุฃุฏุงุก ููุตู
python esp32_performance_test.py
```

### ูุฑุงูุจุฉ ูุตูุฑุฉ ุงููุฏู
```bash
# ูุฑุงูุจุฉ ููุฏุฉ 5 ุฏูุงุฆู
python esp32_monitor.py --duration 5 --interval 10
```

### ุชุดุบูู ุดุงูู
```bash
# ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ูุน ูุฑุงูุจุฉ 3 ุฏูุงุฆู
python run_esp32_tests.py --monitoring-duration 3
```

## ุชูุณูุฑ ุงููุชุงุฆุฌ

### ุฑููุฒ ุงูุญุงูุฉ
- โ **ูุฌุญ:** ุงูุงุฎุชุจุงุฑ ูุฌุญ ุจุฏูู ูุดุงูู
- โ๏ธ **ุชุญุฐูุฑ:** ุงูุงุฎุชุจุงุฑ ูุฌุญ ูุน ููุงุญุธุงุช
- โ **ูุดู:** ุงูุงุฎุชุจุงุฑ ูุดู
- ๐ด **ุฎุทุฃ ุญุฑุฌ:** ุฎุทุฃ ูุชุทูุจ ุชุฏุฎู ููุฑู

### ูุนุฏูุงุช ุงูุฃุฏุงุก
- **ููุชุงุฒ:** ุฒูู ุงุณุชุฌุงุจุฉ < 500msุ ูุนุฏู ูุฌุงุญ > 95%
- **ุฌูุฏ:** ุฒูู ุงุณุชุฌุงุจุฉ < 1000msุ ูุนุฏู ูุฌุงุญ > 90%
- **ููุจูู:** ุฒูู ุงุณุชุฌุงุจุฉ < 2000msุ ูุนุฏู ูุฌุงุญ > 80%
- **ุถุนูู:** ุฒูู ุงุณุชุฌุงุจุฉ > 2000ms ุฃู ูุนุฏู ูุฌุงุญ < 80%

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ

#### 1. ุงูุณูุฑูุฑ ูุง ูุณุชุฌูุจ
```
โ ุฎุทุฃ ูู ุงูุงุชุตุงู ุจุงูุณูุฑูุฑ: Connection refused
```
**ุงูุญู:**
- ุชุฃูุฏ ูู ุชุดุบูู ุงูุณูุฑูุฑ
- ุชุญูู ูู ุงูุจูุฑุช ุงูุตุญูุญ
- ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฌุฏุงุฑ ุญูุงูุฉ

#### 2. ูููุฉ ุงูุชูุงุก ุงูุทูุจ
```
โฐ ุงูุชูุช ูููุฉ ุงูุชุธุงุฑ ุงูุฑุฏ
```
**ุงูุญู:**
- ุชุญูู ูู ุญูููุฉ ุงูุณูุฑูุฑ
- ุฒูุงุฏุฉ timeout ูู ุงูุฅุนุฏุงุฏุงุช
- ูุญุต ุงุชุตุงู ุงูุดุจูุฉ

#### 3. ุฎุทุฃ ูู ุงููุตุงุฏูุฉ
```
โ ูุตุงุฏูุฉ ูุงุดูุฉ: Invalid token format
```
**ุงูุญู:**
- ุชุญูู ูู ุฅุนุฏุงุฏุงุช ESP32_SHARED_SECRET
- ุชุฃูุฏ ูู ุตุญุฉ HMAC generation
- ูุญุต ุจูุงูุงุช ุงูุฌูุงุฒ

#### 4. WebSocket ูุดู ูู ุงูุงุชุตุงู
```
โ ุชู ุฅุบูุงู ุงูุงุชุตุงู: 403 Forbidden
```
**ุงูุญู:**
- ุชุญูู ูู token ุตุญูุญ
- ุชุฃูุฏ ูู ูุนุงููุงุช ุงูุงุชุตุงู
- ูุญุต ุฅุนุฏุงุฏุงุช CORS

## ุงูุชูุงุฑูุฑ ูุงูุณุฌูุงุช

### ูููุงุช ุงูุชูุงุฑูุฑ
- `esp32_test_report_YYYYMMDD_HHMMSS.json`: ุชูุฑูุฑ ุดุงูู
- `esp32_monitor_report_YYYYMMDD_HHMMSS.json`: ุชูุฑูุฑ ุงููุฑุงูุจุฉ
- `esp32_monitor.log`: ุณุฌู ุงููุฑุงูุจุฉ

### ูุญุชูู ุงูุชูุงุฑูุฑ
```json
{
  "test_session": {
    "start_time": "2025-01-XX...",
    "end_time": "2025-01-XX...",
    "total_duration": 120.5,
    "base_url": "http://127.0.0.1:8000"
  },
  "summary": {
    "total_tests": 4,
    "successful_tests": 3,
    "failed_tests": 1,
    "success_rate": 75.0
  },
  "test_results": {...}
}
```

## ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ูุนูููุงุช ุฅุถุงููุฉ
- ุชุญูู ูู ุณุฌูุงุช ุงูุณูุฑูุฑ ููุฃุฎุทุงุก ุงูุชูุตูููุฉ
- ุงุณุชุฎุฏู `--help` ูุน ุฃู ุณูุฑูุจุช ููุญุตูู ุนูู ุงููุณุงุนุฏุฉ
- ุฑุงุฌุน ูููุงุช ุงูุชูุงุฑูุฑ ููุชุญููู ุงูููุตู

### ุฃูุงูุฑ ุงููุณุงุนุฏุฉ
```bash
python esp32_comprehensive_test.py --help
python esp32_performance_test.py --help
python esp32_monitor.py --help
python run_esp32_tests.py --help
```

---

**ููุงุญุธุฉ:** ุชุฃูุฏ ูู ุชุดุบูู ุงูุณูุฑูุฑ ูุจู ุจุฏุก ุฃู ุงุฎุชุจุงุฑุงุชุ ูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช ุงููุทููุจุฉ ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ.