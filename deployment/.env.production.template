# AI Teddy Bear Production Environment Variables
# COPPA-compliant child-safe AI platform configuration
# 
# IMPORTANT: 
# 1. Copy this file to .env.production
# 2. Replace all placeholder values with actual production secrets
# 3. Never commit .env.production to version control
# 4. Ensure proper file permissions (600)

# ================================
# CRITICAL SECURITY KEYS
# ================================
# Generate with: openssl rand -hex 32
SECRET_KEY=GENERATE_WITH_OPENSSL
JWT_SECRET_KEY=GENERATE_WITH_OPENSSL
COPPA_ENCRYPTION_KEY=GENERATE_WITH_OPENSSL

# ================================
# DATABASE CONFIGURATION
# ================================
DB_NAME=ai_teddy_bear_prod
DB_USER=ai_teddy_user_prod
DB_PASSWORD=REPLACE_WITH_STRONG_DB_PASSWORD
DB_HOST=postgres
DB_PORT=5432

# Database connection pooling
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# ================================
# REDIS CONFIGURATION
# ================================
REDIS_PASSWORD=REPLACE_WITH_STRONG_REDIS_PASSWORD
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_POOL_SIZE=20
REDIS_MAX_CONNECTIONS=100
REDIS_TIMEOUT=5

# ================================
# AI SERVICES CONFIGURATION
# ================================
# OpenAI API Configuration
OPENAI_API_KEY=sk-PLACEHOLDER_OPENAI_KEY
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=1500
OPENAI_TEMPERATURE=0.7

# ElevenLabs TTS (Optional)
ELEVENLABS_API_KEY=ELEVENLABS_PLACEHOLDER

# Whisper STT Configuration
WHISPER_MODEL=medium

# ================================
# DOMAIN AND SSL CONFIGURATION
# ================================
PRODUCTION_DOMAIN=aiteddybear.com
SSL_EMAIL=admin@aiteddybear.com

# API URLs
API_BASE_URL=https://api.aiteddybear.com
STAGING_URL=https://staging-api.aiteddybear.com

# ================================
# COPPA COMPLIANCE SETTINGS
# ================================
PARENT_NOTIFICATION_EMAIL=parent@example.com
SUPPORT_EMAIL=support@example.com

# Child Safety Configuration
COPPA_COMPLIANCE_MODE=true
CONTENT_FILTER_STRICT=true
CHILD_SAFETY_STRICT=true
SAFETY_MONITORING_ENABLED=true
SAFETY_SCORE_THRESHOLD=0.9

# Data Retention (COPPA requires <= 13 years)
DATA_RETENTION_DAYS=90
AUTO_DELETE_ENABLED=true
DATA_EXPORT_ENABLED=true
CHILD_DATA_ENCRYPTION_ENABLED=true

# ================================
# SECURITY CONFIGURATION
# ================================
# Rate Limiting (Production Values)
RATE_LIMIT_REQUESTS_PER_MINUTE=30
RATE_LIMIT_BURST=5
RATE_LIMIT_GLOBAL_REQUESTS_PER_SECOND=100

# Brute Force Protection
SECURITY_BRUTE_FORCE_ATTEMPTS=5
SECURITY_BRUTE_FORCE_WINDOW=3600
SECURITY_ACCESS_MAX_PER_HOUR=20
SECURITY_ACCESS_MAX_PER_DAY=100
SECURITY_ACCESS_MAX_PER_MINUTE=5

# JWT Configuration
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# Session Security
SESSION_EXPIRE_HOURS=8
SESSION_SECURE=true
SESSION_HTTPONLY=true
SESSION_SAMESITE=strict

# SSL/TLS Configuration
SSL_ENABLED=true
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000

# ================================
# CONTENT AND AGE FILTERING
# ================================
CONTENT_COMPLEXITY_AGE_THRESHOLD_SIMPLE=5
CONTENT_COMPLEXITY_AGE_THRESHOLD_COMPLEX=8

# ================================
# MONITORING AND OBSERVABILITY
# ================================
# Sentry Error Tracking
SENTRY_DSN=https://REPLACE_WITH_ACTUAL_SENTRY_DSN@sentry.io/PROJECT_ID

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
ENABLE_METRICS=true
ENABLE_TRACING=true

# OpenTelemetry Configuration
OTEL_SERVICE_NAME=ai-teddy-bear
OTEL_SERVICE_VERSION=1.0.0

# ================================
# SERVER CONFIGURATION
# ================================
# Application Settings
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4
WORKER_CLASS=uvicorn.workers.UvicornWorker
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100

# App Version
APP_VERSION=1.0.0

# ================================
# GRAFANA MONITORING
# ================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=REPLACE_WITH_STRONG_GRAFANA_PASSWORD

# ================================
# EMAIL CONFIGURATION
# ================================
# SendGrid Configuration (Recommended)
SENDGRID_API_KEY=SG.REPLACE_WITH_ACTUAL_SENDGRID_API_KEY
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USERNAME=apikey
SMTP_PASSWORD=REPLACE_WITH_SENDGRID_API_KEY
SMTP_USE_TLS=true
SMTP_USE_SSL=false
FROM_EMAIL=noreply@aiteddybear.com

# Alternative SMTP Configuration
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=REPLACE_WITH_SMTP_USERNAME  
# SMTP_PASSWORD=REPLACE_WITH_SMTP_PASSWORD

# ================================
# STRIPE PAYMENT CONFIGURATION
# ================================
STRIPE_PUBLISHABLE_KEY=pk_live_REPLACE_WITH_ACTUAL_STRIPE_PUBLISHABLE_KEY
STRIPE_SECRET_KEY=sk_live_REPLACE_WITH_ACTUAL_STRIPE_SECRET_KEY
STRIPE_WEBHOOK_SECRET=whsec_REPLACE_WITH_ACTUAL_STRIPE_WEBHOOK_SECRET

# ================================
# BACKUP CONFIGURATION
# ================================
# Backup Settings
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY=REPLACE_WITH_32_CHAR_BACKUP_ENCRYPTION_KEY

# AWS S3 Backup (Optional)
AWS_ACCESS_KEY_ID=REPLACE_WITH_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=REPLACE_WITH_AWS_SECRET_KEY
S3_BACKUP_BUCKET=ai-teddy-bear-backups-prod
AWS_REGION=us-east-1

# ================================
# NOTIFICATION CONFIGURATION
# ================================
# Slack Notifications (Optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/REPLACE/WITH/ACTUAL_WEBHOOK

# ================================
# STORAGE PATHS
# ================================
DATA_PATH=./data
LOGS_PATH=./logs
BACKUP_PATH=./backups
SSL_CERTS_PATH=./ssl
SECURE_STORAGE_PATH=./secure_storage

# ================================
# FEATURE FLAGS
# ================================
ENABLE_DATABASE=true
ENABLE_REDIS=true
ENABLE_AI_SERVICES=true
USE_MOCK_SERVICES=false

# Optional Services
KAFKA_ENABLED=false
VAULT_ENABLED=false

# ================================
# NGINX CONFIGURATION
# ================================
NGINX_PORT=80
NGINX_SSL_PORT=443
APP_PORT=8000

# ================================
# LOAD BALANCING (Future)
# ================================
# Set to true when implementing load balancing
LOAD_BALANCING_ENABLED=false
LOAD_BALANCER_TYPE=nginx

# ================================
# DEVELOPMENT OVERRIDES
# ================================
# These should be empty in production
DOCS_URL=""
REDOC_URL=""